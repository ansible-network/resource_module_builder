---
GENERATOR_VERSION: "1.0"

ANSIBLE_METADATA: |
  {
    'metadata_version': '1.1',
    'status': ['preview'],
    'supported_by': 'network'
  }

NETWORK_OS: waveserver5
RESOURCE: system
RESOURCE_SINGULAR: system
RESOURCE_KEY: name
COPYRIGHT: Copyright 2023 Ciena
XML_NAMESPACE: "urn:ciena:params:xml:ns:yang:ciena-ws:ciena-waveserver-system"
XML_RESOURCE: waveserver-system

DOCUMENTATION: |
  module: waveserver5_system
  version_added: 0.0.1
  short_description: Waveserver System configuration data and operational data.
  description: Waveserver System configuration data and operational data.
  author:
    - Jeff Groom (@jgroom33)
    - Galo Ertola (@perrary)
  requirements:
    - ncclient (>=v0.6.4)
    - xmltodict (>=0.12.0)
  options:
    config:
      description: A dictionary of system options
      type: dict
      suboptions:
        host_name:
          description: Waveserver system host name attributes.
          suboptions:
            config_host_name:
              description: User configured host name.
              required: true
              type: str
          type: dict
        server_config:
          description: Waveserver system server configuration attributes.
          suboptions:
            global_inactivity_timeout:
              description: Global session inactivity timeout period, in minutes. Can be
                overridden by specific server type settings, if applicable.
              required: true
              type: int
            global_inactivity_timer:
              description: Global session inactivity timer state.
              required: true
              type: str
              choices:
                - enabled
                - disabled
            grpc:
              description: gRPC server configuration.
              suboptions:
                admin_state:
                  description: gRPC server administrative state.
                  required: true
                  type: str
                  choices:
                    - enabled
                    - disabled
                certificate_verification:
                  description: gRPC server configuration data for client certificate verification
                    through mutual authentication.
                  suboptions:
                    certificate_name:
                      description: The certificate name used by the gRPC server.
                      required: true
                      type: str
                    mutual_authentication:
                      description: gRPC server mutual authentication configuration data.
                      suboptions:
                        admin_state:
                          description: Whether gRPC server mutual authentication verification
                            is enabled or disabled.
                          required: true
                          type: str
                          choices:
                            - enabled
                            - disabled
                      type: dict
                  type: dict
              type: dict
            https:
              description: HTTPS server configuration.
              suboptions:
                admin_state:
                  description: HTTPS server administrative state.
                  required: true
                  type: str
                  choices:
                    - enabled
                    - disabled
                certificate_verification:
                  description: The HTTPS server configuration data for client certificate
                    verification through mutual authentication and Online Certificate
                    Status Protocol(OCSP).
                  suboptions:
                    certificate_name:
                      description: The certificate name used by the HTTPS server.
                      required: true
                      type: str
                    mutual_authentication:
                      description: HTTPS server mutual authentication configuration data.
                      suboptions:
                        admin_state:
                          description: Whether apache HTTPS server mutual authentication
                            verification is enabled or disabled.
                          required: true
                          type: str
                          choices:
                            - enabled
                            - disabled
                      type: dict
                    ocsp:
                      description: HTTPS server configuration data for OCSP verification.
                      suboptions:
                        admin_state:
                          description: Whether OCSP verification is enabled or disabled.
                          required: true
                          type: str
                          choices:
                            - enabled
                            - disabled
                        default_responder:
                          description: Default OCSP responder. It should be in URL format.
                            e.g. https://192.168.20.2:2440. If the 'responder-preference'
                            is not set to 'default-responder', the URL given will be used
                            only if no responder URL (AIA extension) is specified in the
                            client certificate being verified.
                          required: true
                          type: str
                        nonce:
                          description: Determine whether queries to OCSP responders should
                            contain a nonce or not. By default nonce option is turned
                            on.
                          required: true
                          type: str
                          choices:
                            - 'on'
                            - 'off'
                        responder_preference:
                          description: If 'responder-preference' is set to aia, the OCSP
                            responder referred in client certificate AIA extension will
                            be used first during OCSP certificate validation. If it is
                            set to 'default-responder', the configured default OCSP responder
                            is used first.
                          required: true
                          type: str
                      type: dict
                    trusted_dns:
                      description: Trusted DNS name used to check peer's certificate The
                        name should be fully qualified whenever possible, and can accept
                        a leading wildcard period.
                      required: true
                      type: str
                  type: dict
                inactivity_timeout:
                  description: HTTPS inactivity timeout period, in minutes.
                  required: true
                  type: int
                web_ui_file_transfer_admin_state:
                  description: Web Ui File Transfer administrative state.
                  required: true
                  type: str
                  choices:
                    - enabled
                    - disabled
              type: dict
            netconf_server_state:
              description: Indicate whether NETCONF server is enabled.
              required: true
              type: str
              choices:
                - enabled
                - disabled
            scp_server_state:
              description: Indicate whether SCP server is enabled.
              required: true
              type: str
              choices:
                - enabled
                - disabled
            sftp_server_state:
              description: Indicate whether SFTP server is enabled.
              required: true
              type: str
              choices:
                - enabled
                - disabled
            ssh:
              description: SSH server configuration.
              suboptions:
                algorithms:
                  description: Waveserver SSH algorithm lists.
                  suboptions:
                    encryption:
                      description: List of SSH encryption algorithms. The algorithm names
                        are system assigned.
                      suboptions:
                        admin_state:
                          description: SSH encryption algorithm administrative state.
                          required: true
                          type: str
                          choices:
                            - enabled
                            - disabled
                        algorithm_name:
                          description: The SSH encryption algorithm name.
                          required: true
                          type: str
                      type: list
                    key_exchange:
                      description: List of SSH key exchange algorithms. The algorithm
                        names are system assigned.
                      suboptions:
                        admin_state:
                          description: SSH key exchange algorithm administrative state.
                          required: true
                          type: str
                          choices:
                            - enabled
                            - disabled
                        algorithm_name:
                          description: The SSH key exchange algorithm name.
                          required: true
                          type: str
                      type: list
                    message_authentication_code:
                      description: List of SSH message authentication code algorithms.
                        The algorithm names are system assigned.
                      suboptions:
                        admin_state:
                          description: SSH message authentication code algorithm administrative
                            state.
                          required: true
                          type: str
                          choices:
                            - enabled
                            - disabled
                        algorithm_name:
                          description: The SSH message authentication code algorithm name.
                          required: true
                          type: str
                      type: list
                    public_key_authentication:
                      description: List of SSH public key authentication algorithms. The
                        algorithm names are system assigned.
                      suboptions:
                        admin_state:
                          description: SSH public key authentication algorithm administrative
                            state.
                          required: true
                          type: str
                          choices:
                            - enabled
                            - disabled
                        algorithm_name:
                          description: The SSH public key authentication algorithm name.
                          required: true
                          type: str
                      type: list
                  type: dict
                allowed_clients:
                  description: List of allowed client IP addresses.
                  suboptions:
                    ip_address:
                      description: IP address for allowed SSH clients. When the list is
                        not empty, only the clients in the list can login to the SSH server.
                      required: true
                      type: str
                  type: list
                authentication_retries:
                  description: Number of authentication retries allowed before the SSH
                    connection is dropped.
                  required: true
                  type: int
                listener_port:
                  description: Configured SSH listener port. Default is port 22.
                  required: true
                  type: int
              type: dict
          type: dict
    state:
      choices:
      - merged
      - overridden
      - gathered
      default: merged
      description:
      - The state the configuration should be left in
      type: str
requirements:
  - ncclient (>=v0.6.4)
notes:
  - This module requires the netconf system service be enabled on
    the remote device being managed.
  - Tested against SAOS 10.6.1
  - This module works with connection C(netconf)

EXAMPLES:
  - merged_example_01.txt
  - overridden_example_01.txt
