---
GENERATOR_VERSION: "1.0"

ANSIBLE_METADATA: |
  {
    'metadata_version': '1.1',
    'status': ['preview'],
    'supported_by': 'network'
  }

NETWORK_OS: waveserver5
RESOURCE: ports
COPYRIGHT: Copyright 2023 Ciena
XML_NAMESPACE: "urn:ciena:params:xml:ns:yang:ciena-ws:ciena-waveserver-port"
XML_ROOT_KEY: waveserver-ports
# Promoted list
XML_ITEMS: ports

DOCUMENTATION: |
  module: waveserver5_port
  version_added: 1.1.0
  short_description: Waveserver Port configuration data and operational data.
  description: Waveserver Port configuration data and operational data.
  author:
    - Jeff Groom (@jgroom33)
    - Galo Ertola (@perrary)
  requirements:
    - ncclient (>=v0.6.4)
    - xmltodict (>=0.12.0)
  options:
    config:
      description: Configuration and operational data for the port.
      type: list
      elements: dict
      suboptions:
        port_id:
          description: Unique, access identifier string of the port in '<slot>-<port>'
            format.
          type: str
          required: true
        id:
          description: Port identification attributes.
          type: dict
          suboptions:
            type:
              description: The port interface type.
              type: str
              choices:
                - unknown
                - ethernet
                - otn
                - OTUk
                - OTUCn
                - OTUCn-Flex
              required: true
            label:
              description: The user-specified label string for this port interface.
              type: str
              required: true
        state:
          description: Port administrative and operational states.
          type: dict
          suboptions:
            admin_state:
              description: The configured administrative state of the port.
              type: str
              choices:
                - enabled
                - disabled
              required: true
        properties:
          description: Port properties.
          type: dict
          suboptions:
            loopback:
              description: Port PHY layer loopback. RX loopback is a loopback forwarding
                ingress traffic from RX port directly to TX port. TX loopback is a loopback
                forwarding egress traffic from TX port directly to RX port, TX loopback
                is not supported in I-NNI ports. The RX/TX loopback can only be enabled
                when the port admin-state is disabled. Enable an RX/TX loopback shall
                fail when the port has its admin-state enabled. Users shall be able
                to disable the xcvr/ptp when its child port loopback enabled. Enable
                xcvr/ptp shall not enable its child port with loopback enabled. A port
                shall has its operational state rx loopback when rx loopback is enabled,
                and tx loopback when tx loopback is enabled.
              type: str
              choices:
                - disabled
                - rx
                - tx
              required: true
            connection_state:
              description: Specifies whether the line-side bandwidth is allocated for
                the connection between this client port and its connection peer. For
                most client port types, this is enabled by default and cannot be disabled.
                For certain client ports that can share line-side bandwidth with other
                client ports (such as on MOTR-AGG modules), the connection state can
                be manually configured by the user in order to assign or release the
                line-side bandwidth to the desired client. On the line-side, the connection
                state is read-only.
              type: str
              choices:
                - disabled
                - enabled
              required: true
            connection_peer:
              description: Port connection peer list. Indicates the client/line port/channel
                that may be connected to this line/client port. For certain client ports,
                the connection state is user-configurable or can be system assigned
                on port creation based on bandwidth availability. For other ports, the
                connection state is fixed and cannot be manually configured.
              type: list
              elements: dict
              suboptions:
                peer_id:
                  description: Specifies the client/line connection information for
                    the port or channel. Client ports can be connected to a line-side
                    channel or port. Line ports can be connected to a client side port.
                    Line channels can be connected to one or more client ports. The
                    connection mappings are static and provided by the system based
                    on XCVR configuration.
                  type: str
                  required: true
            ethernet:
              description: Ethernet-specific properties.
              type: dict
              suboptions:
                conditioning_type:
                  description: Egress UNI port consequent action for an EPL service
                    to be applied on a far-end ingress UNI failure or network failure.
                    Supported values are 'none', 'laser-off', and 'ethernet'.
                  type: str
                  choices:
                    - none
                    - laser-off
                    - ethernet
                    - otn
                    - protocol-specific
                  required: true
                conditioning_holdoff:
                  description: Number of milliseconds to delay Egress UNI port consequent
                    action for an EPL service.
                  type: int
                  required: true
            otn:
              description: OTN-specific properties.
              type: dict
              suboptions:
                odu_termination:
                  description: ODUk termination mode.
                  type: str
                  choices:
                    - terminated
                    - passthrough
                  required: true
                otu_sd_threshold:
                  description: OTU Signal Degrade threshold value, e.g. '1E-06' to '1E-09'.
                  type: str
                  required: true
                odu_sd_threshold:
                  description: ODUk Signal Degrade threshold value, e.g. '1E-05' to
                    '1E-09'.
                  type: str
                  required: true
                conditioning_type:
                  description: Conditioning type for OTN ports. Supported values are
                    'laser-off' and 'otn'.
                  type: str
                  choices:
                    - none
                    - laser-off
                    - ethernet
                    - otn
                    - protocol-specific
                  required: true
                trace:
                  description: OTN port trace attributes
                  type: dict
                  suboptions:
                    section:
                      description: OTUk section trace attributes for this port.
                      type: dict
                      suboptions:
                        mismatch_mode:
                          description: The trail trace identifier (TTI) mismatch mode,
                            indicating which fields of the TTI overhead are used for
                            trace mismatch detection.
                          type: str
                          choices:
                            - operator-only
                            - sapi
                            - dapi
                            - sapi-and-dapi
                          required: true
                        mismatch_fail_mode:
                          description: The trail trace identifier (TTI) mismatch failure
                            mode. When TTI mismatch condition occurs, this indicates
                            the consequent action taken, e.g. whether or not to raise
                            an alarm.
                          type: str
                          choices:
                            - none
                            - alarm-only
                            - squelch-traffic
                          required: true
                        tx_sapi:
                          description: The source access point identifier (SAPI) portion
                            of the transmitted trace string, up to 15 characters, excluding
                            the first byte in the TTI SAPI overhead, which is implicitly
                            always null.
                          type: str
                          required: true
                        tx_dapi:
                          description: The destination access point identifier (DAPI)
                            portion of the transmitted trace string, up to 15 characters,
                            excluding the first byte in the TTI DAPI overhead, which
                            is implicitly always null.
                          type: str
                          required: true
                        tx_oper:
                          description: The operator-specific portion of the transmitted
                            trace string, up to 32 characters. Ignored if tx-oper-mode
                            is 'automatic'.
                          type: str
                          required: true
                        tx_oper_mode:
                          description: Specifies whether to allow manual provisioning
                            of the transmitted TTI string, or let the system assign
                            this value automatically based on a pre-defined format.
                          type: str
                          choices:
                            - manual
                            - automatic
                          required: true
                        exp_sapi:
                          description: The expected source access point identifier (SAPI)
                            portion of the received trace string, up to 15 characters,
                            excluding the first byte in the TTI SAPI overhead, which
                            is implicitly always null.
                          type: str
                          required: true
                        exp_dapi:
                          description: The expected destination access point identifier
                            (DAPI) portion of the received trace string, up to 15 characters,
                            excluding the first byte in the TTI DAPI overhead, which
                            is implicitly always null.
                          type: str
                          required: true
                        exp_oper:
                          description: The expected operator-specific portion of the
                            received trace string, up to 32 characters.
                          type: str
                          required: true
                    path:
                      description: ODUk path trace attributes for this port.
                      type: dict
                      suboptions:
                        mismatch_mode:
                          description: The trail trace identifier (TTI) mismatch mode,
                            indicating which fields of the TTI overhead are used for
                            trace mismatch detection.
                          type: str
                          choices:
                            - operator-only
                            - sapi
                            - dapi
                            - sapi-and-dapi
                          required: true
                        mismatch_fail_mode:
                          description: The trail trace identifier (TTI) mismatch failure
                            mode. When TTI mismatch condition occurs, this indicates
                            the consequent action taken, e.g. whether or not to raise
                            an alarm.
                          type: str
                          choices:
                            - none
                            - alarm-only
                            - squelch-traffic
                          required: true
                        tx_sapi:
                          description: The source access point identifier (SAPI) portion
                            of the transmitted trace string, up to 15 characters, excluding
                            the first byte in the TTI SAPI overhead, which is implicitly
                            always null.
                          type: str
                          required: true
                        tx_dapi:
                          description: The destination access point identifier (DAPI)
                            portion of the transmitted trace string, up to 15 characters,
                            excluding the first byte in the TTI DAPI overhead, which
                            is implicitly always null.
                          type: str
                          required: true
                        tx_oper:
                          description: The operator-specific portion of the transmitted
                            trace string, up to 32 characters. Ignored if tx-oper-mode
                            is 'automatic'.
                          type: str
                          required: true
                        tx_oper_mode:
                          description: Specifies whether to allow manual provisioning
                            of the transmitted TTI string, or let the system assign
                            this value automatically based on a pre-defined format.
                          type: str
                          choices:
                            - manual
                            - automatic
                          required: true
                        exp_sapi:
                          description: The expected source access point identifier (SAPI)
                            portion of the received trace string, up to 15 characters,
                            excluding the first byte in the TTI SAPI overhead, which
                            is implicitly always null.
                          type: str
                          required: true
                        exp_dapi:
                          description: The expected destination access point identifier
                            (DAPI) portion of the received trace string, up to 15 characters,
                            excluding the first byte in the TTI DAPI overhead, which
                            is implicitly always null.
                          type: str
                          required: true
                        exp_oper:
                          description: The expected operator-specific portion of the
                            received trace string, up to 32 characters.
                          type: str
                          required: true
        channels:
          description: List of ODU4 channels within the parent OTU port object.
          type: list
          elements: dict
          suboptions:
            channel_id:
              description: Channel number or ODU4 tributary number within the parent
                OTU port object. Key value for the channels list.
              type: int
              required: true
            id:
              description: Channel identification attributes.
              type: dict
              suboptions:
                label:
                  description: The user-specified label string for this channel object.
                  type: str
                  required: true
            state:
              description: Channel administrative and operational states.
              type: dict
              suboptions:
                admin_state:
                  description: The configured administrative state of the channel.
                  type: str
                  choices:
                    - disabled
                    - enabled
                  required: true
            properties:
              description: Channel properties.
              type: dict
              suboptions:
                odu_sd_threshold:
                  description: ODU4 Signal Degrade threshold value.
                  type: str
                  required: true
                trace:
                  description: ODU4 path trace attributes for this channel.
                  type: dict
                  suboptions:
                    mismatch_mode:
                      description: The trail trace identifier (TTI) mismatch mode, indicating
                        which fields of the TTI overhead are used for trace mismatch
                        detection.
                      type: str
                      choices:
                        - operator-only
                        - sapi
                        - dapi
                        - sapi-and-dapi
                      required: true
                    mismatch_fail_mode:
                      description: The trail trace identifier (TTI) mismatch failure
                        mode. When TTI mismatch condition occurs, this indicates the
                        consequent action taken, e.g. whether or not to raise an alarm.
                      type: str
                      choices:
                        - none
                        - alarm-only
                        - squelch-traffic
                      required: true
                    tx_sapi:
                      description: The source access point identifier (SAPI) portion
                        of the transmitted trace string, up to 15 characters, excluding
                        the first byte in the TTI SAPI overhead, which is implicitly
                        always null.
                      type: str
                      required: true
                    tx_dapi:
                      description: The destination access point identifier (DAPI) portion
                        of the transmitted trace string, up to 15 characters, excluding
                        the first byte in the TTI DAPI overhead, which is implicitly
                        always null.
                      type: str
                      required: true
                    tx_oper:
                      description: The operator-specific portion of the transmitted
                        trace string, up to 32 characters. Ignored if tx-oper-mode is
                        'automatic'.
                      type: str
                      required: true
                    tx_oper_mode:
                      description: Specifies whether to allow manual provisioning of
                        the transmitted TTI string, or let the system assign this value
                        automatically based on a pre-defined format.
                      type: str
                      choices:
                        - manual
                        - automatic
                      required: true
                    exp_sapi:
                      description: The expected source access point identifier (SAPI)
                        portion of the received trace string, up to 15 characters, excluding
                        the first byte in the TTI SAPI overhead, which is implicitly
                        always null.
                      type: str
                      required: true
                    exp_dapi:
                      description: The expected destination access point identifier
                        (DAPI) portion of the received trace string, up to 15 characters,
                        excluding the first byte in the TTI DAPI overhead, which is
                        implicitly always null.
                      type: str
                      required: true
                    exp_oper:
                      description: The expected operator-specific portion of the received
                        trace string, up to 32 characters.
                      type: str
                      required: true
    state:
      choices:
        - gathered
        - merged
        - overridden
      default: merged
      description:
        - The state the configuration should be left in
      type: str
requirements:
  - ncclient (>=v0.6.4)
notes:
  - This module requires the netconf system service be enabled on the remote device
    being managed.
  - This module works with connection C(netconf)

EXAMPLES:
  - merged_example_01.txt
