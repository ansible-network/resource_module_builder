---
GENERATOR_VERSION: "1.0"

ANSIBLE_METADATA: |
  {
    'metadata_version': '1.1',
    'status': ['preview'],
    'supported_by': 'network'
  }

NETWORK_OS: saos10
RESOURCE: fds
RESOURCE_SINGULAR: fd
RESOURCE_KEY: name
COPYRIGHT: Copyright 2021 Ciena

DOCUMENTATION: |
  module: saos10_fds
  version_added: 2.9
  short_description: Manage forwarding domains on Ciena SAOS 10 devices
  description: This module provides declarative management of a forwarding domain
  author: Ciena
  options:
    config:
      description: A dictionary of forwarding domain options
      type: list
      elements: dict
      suboptions:
        name:
          description: A unique name for the forwarding domain
          type: str
          required: True
        mode:
          description: Forwarding mode of the forwarding-domain 
          type: str
          choices:
            - vpls
            - vpws
            - fxc
            - tdm-vpls
            - tdm-vpws
            - evpn-vpws
            - evpn-vpls
        vlan-id:
          description: The id of VLAN associated with forwarding-domain.
          type: int
        pfg-profile:
          description: Reference to a Private Forwarding Group Profile.
          type: str
        initiate-l2-transform:
          description: For an L2-frame that is initiated/injected via this forwarding domain, this specifies the l2-transform to be applied to the frame. e.g. an L3-frame injected via this forwarding domain to L2 datapath.
          type: dict
          suboptions:
            vlan-stack:
              description: For an L2-frame that is initiated/injected via this forwarding domain, this specifies the VLAN related l2-transform to be applied to the frame.
              type: list
              elements: dict
              suboptions:
                tag:
                  description: Dependent on the transform operation, the tag numbers are push => '1' represents push outermost, '2' represents push outermost (always push to outer)
                  type: int
                push-tpid:
                  description: Represents the TPID value of the vlan tag for the tag being pushed
                  type: str
                  default: tpid-8100
                  choices:
                    - tpid-8100
                    - tpid-88a8
                    - tpid-9100
                push-pcp:
                  description: Represents the PCP value of the vlan tag for the tag being pushed. When the PCP value is mapped using a cos-to-frame-map, 'map' is specified.
                  type: str
                  choices:
                    - pcp-0
                    - pcp-1
                    - pcp-2
                    - pcp-3
                    - pcp-4
                    - pcp-5
                    - pcp-6
                    - pcp-7
                    - map
                push-dei:
                  description: Represents the DEI value of the vlan tag for the tag being pushed.
                  type: str
                  choices:
                    - enabled
                    - disabled
                push-vid:
                  description: Represents the VID value of the vlan tag for the tag being pushed
                  type: str
                  required: True
    state:
      choices:
      - merged
      - overridden
      - deleted
      default: merged
      description:
      - The state the configuration should be left in
      type: str
requirements:
  - ncclient (>=v0.6.4)
notes:
  - This module requires the netconf system service be enabled on
    the remote device being managed.
  - Tested against SAOS 10.6.1
  - This module works with connection C(netconf)

EXAMPLES:
  - merged_example_01.txt
  - overridden_example_01.txt
  - deleted_example_01.txt
